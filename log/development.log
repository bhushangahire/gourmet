# Logfile created on Mon Jul 06 15:16:45 -0300 2009  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSessions (20090322000719)
Migrating to CreateProdutos (20090322035533)
Migrating to CreateClientes (20090404142414)
Migrating to CreateUnidadeVendas (20090503203224)
Migrating to AddTiptaxToProduto (20090513040158)
Migrating to CreatePedidos (20090705044855)
Migrating to CreatePedidoItems (20090705150559)
Migrating to CreatePedidoPagamentos (20090706044150)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (18.2ms)[0m   [0mCREATE TABLE "pedido_pagamentos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "pedido_id" integer NOT NULL, "valor" decimal(8,2) NOT NULL, "cliente_id" integer, "cartao" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (40.6ms)[0m   [0;1mCREATE INDEX "index_pedido_pagamentos_on_pedido_id" ON "pedido_pagamentos" ("pedido_id")[0m
  [4;35;1mSQL (6.6ms)[0m   [0mCREATE INDEX "index_pedido_pagamentos_on_cliente_id" ON "pedido_pagamentos" ("cliente_id")[0m
  [4;36;1mSQL (21.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090706044150')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (17.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("clientes")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_clientes_on_apartamento')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_clientes_on_bloco')[0m
  [4;35;1mSQL (5.1ms)[0m   [0mPRAGMA index_info('index_clientes_on_nome')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("pedido_items")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_pedido_items_on_pedido_id')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("pedido_pagamentos")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_pedido_pagamentos_on_cliente_id')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_pedido_pagamentos_on_pedido_id')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("pedidos")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_pedidos_on_data_finalizacao')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_pedidos_on_status')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("produtos")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("unidade_vendas")[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSessions (20090322000719)
Migrating to CreateProdutos (20090322035533)
Migrating to CreateClientes (20090404142414)
Migrating to CreateUnidadeVendas (20090503203224)
Migrating to AddTiptaxToProduto (20090513040158)
Migrating to CreatePedidos (20090705044855)
Migrating to CreatePedidoItems (20090705150559)
Migrating to CreatePedidoPagamentos (20090706044150)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (19.4ms)[0m   [0mCREATE TABLE "pedido_pagamentos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "pedido_id" integer NOT NULL, "valor" decimal(8,2) NOT NULL, "cancelado" boolean DEFAULT 'f' NOT NULL, "cliente_id" integer, "cartao" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (8.6ms)[0m   [0;1mCREATE INDEX "index_pedido_pagamentos_on_pedido_id" ON "pedido_pagamentos" ("pedido_id")[0m
  [4;35;1mSQL (7.5ms)[0m   [0mCREATE INDEX "index_pedido_pagamentos_on_cliente_id" ON "pedido_pagamentos" ("cliente_id")[0m
  [4;36;1mSQL (18.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090706044150')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_list("clientes")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_clientes_on_apartamento')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_clientes_on_bloco')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_clientes_on_nome')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("pedido_items")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_pedido_items_on_pedido_id')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("pedido_pagamentos")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_pedido_pagamentos_on_cliente_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_pedido_pagamentos_on_pedido_id')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("pedidos")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_pedidos_on_data_finalizacao')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_pedidos_on_status')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("produtos")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("unidade_vendas")[0m


Processing ProdutosController#index (for 127.0.0.1 at 2009-07-06 15:25:17) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mUnidadeVenda Load (1.2ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (7.0ms)[0m   [0mSELECT * FROM "produtos" ORDER BY descricao LIMIT 12 OFFSET 0[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "produtos" [0m
Rendering template within layouts/gourmet
Rendering produtos/index
Rendered produtos/_lista_produto_autocomplete (4.9ms)
Rendered produtos/_lista_produto_alphabox (70.4ms)
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (0.8ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendered produtos/_lista_produto (152.9ms)
Rendered produtos/_lista_produto_paginacao (1.8ms)
Completed in 372ms (View: 279, DB: 11) | 200 OK [http://localhost/]


Processing ProdutosController#por_descricao (for 127.0.0.1 at 2009-07-06 15:25:20) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"produto"=>{"descricao"=>"l"}}
  [4;35;1mUnidadeVenda Load (1.3ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'l%') ORDER BY descricao[0m
Rendering produtos/renderiza_autocomplete_descricao.html.erb
Completed in 58ms (View: 12, DB: 5) | 200 OK [http://localhost/produtos/por_descricao]


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 15:25:21) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Create (1.3ms)[0m   [0mINSERT INTO "pedidos" ("numero_mesa", "data_abertura", "created_at", "updated_at", "quantidade_pessoas", "data_finalizacao", "status") VALUES(NULL, NULL, '2009-07-06 18:25:21', '2009-07-06 18:25:21', NULL, NULL, 'A')[0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.1ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (64.4ms)
Rendered loja/_adiciona_pagamento (14.8ms)


ActionView::TemplateError (undefined method `belongs_to' for PedidoPagamento:Class) on line #13 of app/views/loja/_resumo_pagamento.html.erb:
10: 		</table>
11: 		<div id="resumo-pagamento-divtabela">
12: 	  		<table id="resumo-pagamento-tabela">
13: 				<% for pagamento in @pedido.pagamentos %>
14: 				<tr>
15: 					<td class="descricao"><%= pagamento.descricao %></td>
16: 					<td>R$</td>

    app/models/pedido_pagamento.rb:3
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:382:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:382:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:381:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:256:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:427:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:77:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:89:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:95:in `send'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:95:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2049:in `compute_type'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/kernel/reporting.rb:11:in `silence_warnings'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2045:in `compute_type'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/reflection.rb:151:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/reflection.rb:151:in `klass'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/reflection.rb:182:in `quoted_table_name'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/has_many_association.rb:96:in `construct_sql'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:21:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations.rb:1297:in `new'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations.rb:1297:in `pagamentos'
    app/views/loja/_resumo_pagamento.html.erb:13
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (125.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.0ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 15:26:43) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.8ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.5ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (49.7ms)
Rendered loja/_adiciona_pagamento (16.8ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (102.3ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.1ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 15:28:06) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.2ms)
  [4;36;1mPedidoItem Load (9.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (57.6ms)
Rendered loja/_adiciona_pagamento (2.7ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (145.4ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.1ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:29) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.8ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (9.8ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (22.8ms)
Rendered loja/_adiciona_pagamento (7.9ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (96.5ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.8ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:32) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.8ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.0ms)
  [4;36;1mPedidoItem Load (4.4ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (47.6ms)
Rendered loja/_adiciona_pagamento (3.6ms)
  [4;35;1mPedidoPagamento Load (0.4ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (107.6ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.9ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:34) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.8ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.0ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (10.0ms)
Rendered loja/_adiciona_pagamento (6.6ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (101.2ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.8ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:36) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.9ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.3ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (27.0ms)
Rendered loja/_adiciona_pagamento (28.1ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (307.1ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:37) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.0ms)
  [4;35;1mPedidoItem Load (0.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (25.0ms)
Rendered loja/_adiciona_pagamento (2.4ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (342.7ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (0.3ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:38) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.8ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.7ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (54.6ms)
Rendered loja/_adiciona_pagamento (2.7ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (353.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.0ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:39) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.8ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.0ms)
  [4;35;1mPedidoItem Load (0.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (23.7ms)
Rendered loja/_adiciona_pagamento (2.0ms)
  [4;36;1mPedidoPagamento Load (0.1ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (120.6ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.6ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:40) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.8ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.6ms)
  [4;36;1mPedidoItem Load (41.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (52.1ms)
Rendered loja/_adiciona_pagamento (1.3ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (96.5ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.6ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:40) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.9ms)
  [4;35;1mPedidoItem Load (0.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (61.2ms)
Rendered loja/_adiciona_pagamento (3.7ms)
  [4;36;1mPedidoPagamento Load (0.4ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (346.9ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:19:41) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.9ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.3ms)
  [4;36;1mPedidoItem Load (9.3ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (19.6ms)
Rendered loja/_adiciona_pagamento (25.7ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (246.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.1ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:20:26) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (1.6ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (9.9ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (131.0ms)
Rendered loja/_adiciona_pagamento (3.1ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (202.3ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:20:59) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (0.5ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (7.8ms)
  [4;36;1mPedidoItem Load (1.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (93.3ms)
Rendered loja/_adiciona_pagamento (26.2ms)
  [4;35;1mPedidoPagamento Load (0.4ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (113.2ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (1.6ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:26:25) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (5.2ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (67.8ms)
Rendered loja/_adiciona_pagamento (9.4ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:62:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (166.1ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (15.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:30:23) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.3ms)
  [4;36;1mPedidoItem Load (1.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (52.6ms)
Rendered loja/_adiciona_pagamento (3.0ms)
  [4;35;1mPedidoPagamento Load (0.4ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m


ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #33 of app/views/loja/_resumo_pagamento.html.erb:
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>
32: 					<td>R$</td>
33: 					<td><%= number_to_currency(@pedido.valor_total_com_servico, :unit => "", :delimiter => ".", :separator => ",") %></td>
34: 				</tr>
35: 				<tr>
36: 					<td>Tx Serviço:</td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `calculate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:368:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:2003:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:202:in `with_scope'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:366:in `method_missing_without_paginate'
    /home/lut/.gem/ruby/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:151:in `sum'
    app/models/pedido.rb:70:in `valor_servico'
    app/models/pedido.rb:74:in `valor_total_com_servico'
    app/views/loja/_resumo_pagamento.html.erb:33
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (135.4ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:35:43) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.8ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.7ms)
  [4;35;1mPedidoItem Load (0.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (92.4ms)
Rendered loja/_adiciona_pagamento (0.9ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (63.6ms)
Completed in 361ms (View: 301, DB: 3) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-06 18:36:08) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (0.5ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;36;1mUnidadeVenda Load (1.2ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (6.3ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 59ms (View: 10, DB: 10) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-06 18:36:09) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.2ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;35;1mUnidadeVenda Load (1.3ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.8ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (6.2ms)
  [4;36;1mPedidoItem Load (1.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (7.5ms)
  [4;35;1mPedidoPagamento Load (0.3ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (29.5ms)
Completed in 224ms (View: 129, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:38:26) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.8ms)
  [4;35;1mPedidoItem Load (0.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (57.9ms)
Rendered loja/_adiciona_pagamento (2.7ms)
  [4;36;1mPedidoPagamento Load (0.3ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (33.7ms)
Completed in 302ms (View: 184, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-06 18:38:29) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (144.3ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 276ms (View: 14, DB: 150) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-06 18:38:30) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (0.7ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;35;1mUnidadeVenda Load (1.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (1.2ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (3.3ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (68.6ms)
Completed in 166ms (View: 96, DB: 8) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:43:40) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (1.9ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (50.9ms)
Rendered loja/_adiciona_pagamento (3.8ms)
  [4;35;1mPedidoPagamento Load (0.4ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (60.7ms)
Completed in 327ms (View: 245, DB: 3) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-06 18:43:44) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;35;1mUnidadeVenda Load (1.3ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 96ms (View: 15, DB: 5) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-06 18:43:44) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.3ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;36;1mUnidadeVenda Load (2.1ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (2.8ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (4.2ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (50.7ms)
Completed in 227ms (View: 84, DB: 11) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:44:25) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.4ms)
  [4;35;1mPedidoItem Load (0.3ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (25.1ms)
Rendered loja/_adiciona_pagamento (2.4ms)
  [4;36;1mPedidoPagamento Load (0.4ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (62.6ms)
Completed in 287ms (View: 188, DB: 3) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-06 18:44:28) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (25.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.4ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 124ms (View: 10, DB: 30) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-06 18:44:28) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;35;1mUnidadeVenda Load (1.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (0.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.8ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (2.3ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (4.5ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (61.5ms)
Completed in 189ms (View: 88, DB: 6) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-06 18:44:38) [GET]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.5ms)
  [4;35;1mPedidoItem Load (27.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (38.7ms)
Rendered loja/_adiciona_pagamento (2.7ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (79.0ms)
Completed in 281ms (View: 208, DB: 2) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-06 18:44:42) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"compras"=>{"novo_item"=>"be"}}
  [4;35;1mPedido Load (9.8ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;36;1mUnidadeVenda Load (0.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.3ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'be%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 89ms (View: 12, DB: 13) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-06 18:44:42) [POST]
  Session ID: ccac6a18b8060d87e8a2fbc1abe9ff11
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (0.9ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 1) [0m
  [4;35;1mUnidadeVenda Load (1.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.2ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.8ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (2.0ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 1) [0m
Rendered loja/_listagem_compras (4.2ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 1) [0m
Rendered loja/_resumo_pagamento (75.4ms)
Completed in 284ms (View: 121, DB: 8) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:37:38) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Create (1.8ms)[0m   [0;1mINSERT INTO "pedidos" ("numero_mesa", "data_abertura", "created_at", "updated_at", "quantidade_pessoas", "data_finalizacao", "status") VALUES(NULL, NULL, '2009-07-07 03:37:38', '2009-07-07 03:37:38', NULL, NULL, 'A')[0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (10.8ms)
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (46.1ms)
Rendered loja/_adiciona_pagamento (140.5ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (43.0ms)
Completed in 582ms (View: 336, DB: 2) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:37:45) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"b"}}
  [4;35;1mPedido Load (1.9ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (2.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.9ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'b%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 126ms (View: 32, DB: 10) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:37:46) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 92ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:37:46) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.2ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (41.3ms)
Completed in 311ms (View: 90, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:38:23) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"b"}}
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.7ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'b%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 109ms (View: 26, DB: 9) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:38:24) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 88ms (View: 19, DB: 8) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:38:25) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: produto.id: SELECT * FROM "pedido_items" WHERE (produto.id = '4' and pedido.id = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (3.4ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (40.0ms)
Completed in 278ms (View: 173, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:41:42) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.4ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.4ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (31.2ms)
Rendered loja/_adiciona_pagamento (3.7ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.8ms)
Completed in 189ms (View: 149, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:41:46) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (2.3ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 92ms (View: 19, DB: 9) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:41:47) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE (produto_id = '4' and pedido_id = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (3.7ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.6ms)
Completed in 321ms (View: 94, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:42:41) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.1ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 81ms (View: 20, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:42:43) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE (produto_id = '4' and pedido_id = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (3.7ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (31.8ms)
Completed in 176ms (View: 77, DB: 11) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:49:58) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.7ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (19.9ms)
Rendered loja/_adiciona_pagamento (3.9ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (201.0ms)
Completed in 328ms (View: 291, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:50:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 80ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:50:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.2ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.3ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.5ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.9ms)
  [4;36;1mPedidoPagamento Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (31.9ms)
Completed in 195ms (View: 88, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:50:28) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.3ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (17.4ms)
Rendered loja/_adiciona_pagamento (5.4ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (33.8ms)
Completed in 158ms (View: 119, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:50:32) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 80ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:50:33) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (4.1ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (31.9ms)
Completed in 169ms (View: 76, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:52:23) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.6ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.9ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (21.2ms)
Rendered loja/_adiciona_pagamento (5.3ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (51.8ms)
Completed in 340ms (View: 299, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:52:27) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (2.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.6ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 109ms (View: 21, DB: 9) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:52:28) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (171.5ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (59.7ms)
Completed in 387ms (View: 291, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:53:49) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:53:50) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.5ms)
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (3.5ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (33.1ms)
Completed in 182ms (View: 79, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 00:55:29) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.1ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (30.9ms)
Rendered loja/_adiciona_pagamento (5.1ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (39.6ms)
Completed in 183ms (View: 144, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:55:34) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 198ms (View: 20, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:55:35) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (10.9ms)
  [4;36;1mPedidoItem Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.8ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (47.2ms)
Completed in 208ms (View: 110, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:58:39) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:58:40) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.3ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (4.6ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (161.3ms)
Completed in 328ms (View: 220, DB: 11) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 00:59:51) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 00:59:52) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.1ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (4.9ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.3ms)
Completed in 202ms (View: 104, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:00:52) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:00:53) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"bet", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (0.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'bet') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.1ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (23.3ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (41.8ms)
Completed in 313ms (View: 120, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:00:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 19, DB: 8) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:00:57) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.6ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (3.8ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (42.7ms)
Completed in 208ms (View: 112, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:15:12) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.9ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (35.1ms)
Rendered loja/_adiciona_pagamento (4.0ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (47.4ms)
Completed in 331ms (View: 288, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:15:17) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:15:18) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.1ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (4.8ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.8ms)
Completed in 213ms (View: 105, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:17:02) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.0ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (22.7ms)
Rendered loja/_adiciona_pagamento (4.8ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (46.0ms)
Completed in 177ms (View: 140, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:17:05) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.8ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 80ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:17:05) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.0ms)[0m   [0;1mSQLite3::SQLException: pedido_items.produto_id may not be NULL: INSERT INTO "pedido_items" ("produto_id", "pedido_id", "created_at", "updated_at", "quantidade", "valor_total") VALUES(NULL, 2, '2009-07-07 04:17:05', '2009-07-07 04:17:05', NULL, NULL)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.4ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (4.7ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.8ms)
Completed in 208ms (View: 104, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:20:20) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.5ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (22.8ms)
Rendered loja/_adiciona_pagamento (3.7ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (42.2ms)
Completed in 184ms (View: 140, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:20:24) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:20:24) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.0ms)[0m   [0;1mSQLite3::SQLException: pedido_items.quantidade may not be NULL: INSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:20:25', NULL, '2009-07-07 04:20:25', NULL, NULL)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.6ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.0ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.8ms)
Completed in 212ms (View: 105, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:21:29) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.9ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.9ms)
  [4;36;1mPedidoItem Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (31.3ms)
Rendered loja/_adiciona_pagamento (4.7ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.4ms)
Completed in 315ms (View: 272, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:21:33) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:21:34) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.0ms)[0m   [0;1mSQLite3::SQLException: pedido_items.quantidade may not be NULL: INSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:21:34', NULL, '2009-07-07 04:21:34', NULL, NULL)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (7.6ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.3ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (48.0ms)
Completed in 215ms (View: 109, DB: 9) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:21:55) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.0ms)
  [4;36;1mPedidoItem Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (19.0ms)
Rendered loja/_adiciona_pagamento (5.1ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (174.0ms)
Completed in 310ms (View: 270, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:22:00) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 82ms (View: 20, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:22:00) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.0ms)[0m   [0;1mSQLite3::SQLException: pedido_items.valor_total may not be NULL: INSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:22:00', NULL, '2009-07-07 04:22:00', 1, NULL)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.4ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.0ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.7ms)
Completed in 214ms (View: 106, DB: 10) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:24:32) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.3ms)
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (29.6ms)
Rendered loja/_adiciona_pagamento (4.7ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (35.9ms)
Completed in 164ms (View: 132, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:24:34) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (5.1ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (34.0ms)
Rendered loja/_adiciona_pagamento (5.0ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.8ms)
Completed in 192ms (View: 155, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:24:38) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.9ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 8) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:24:38) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mPedidoItem Create (0.8ms)[0m   [0mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:24:38', NULL, '2009-07-07 04:24:38', 1, NULL)[0m
  [4;36;1mProduto Exists (0.4ms)[0m   [0;1mSELECT "produtos".id FROM "produtos" WHERE ("produtos"."codigo_barras" = '1' AND "produtos".id <> 4) LIMIT 1[0m
  [4;35;1mProduto Update (0.6ms)[0m   [0mUPDATE "produtos" SET "updated_at" = '2009-07-07 04:24:38' WHERE "id" = 4[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (8.3ms)
  [4;36;1mPedidoItem Load (2.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: produtos.pedido_item_id: SELECT * FROM "produtos" WHERE ("produtos".pedido_item_id = 1) LIMIT 1[0m


ActionView::TemplateError (SQLite3::SQLException: no such column: produtos.pedido_item_id: SELECT * FROM "produtos" WHERE ("produtos".pedido_item_id = 1)  LIMIT 1) on line #16 of app/views/loja/_listagem_compras.html.erb:
13: 		<table id="listagem-compras-tabela">
14: 		<% for item in @pedido.items %>
15: 		<tr>
16: 			<td class="descricao"><%= item.descricao %></td>
17: 			<td class="valor"><%= number_to_currency(item.produto.valor_venda, :unit => "", :delimiter => ".", :separator => ",") %></td>
18: 			<td class="quantidade"><%= item.quantidade %></td>
19: 			<td class="valor-total-item"><%= number_to_currency(item.valor_total.to_s, :unit => "", :delimiter => ".", :separator => ",")%> </td>

    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract_adapter.rb:188:in `log'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/sqlite_adapter.rb:132:in `execute'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/sqlite_adapter.rb:372:in `catch_schema_changes'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/sqlite_adapter.rb:132:in `execute'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/sqlite_adapter.rb:275:in `select'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:635:in `find_by_sql'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:1490:in `find_every'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:1452:in `find_initial'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:587:in `find'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/has_one_association.rb:68:in `find_target'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:233:in `load_target'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:112:in `reload'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations.rb:1249:in `produto'
    app/models/pedido_item.rb:30:in `descricao'
    app/views/loja/_listagem_compras.html.erb:16
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `each'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    app/views/loja/_listagem_compras.html.erb:14
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1002:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:767:in `replace_html'
    app/views/loja/adiciona_produto_lista_compras.rjs:12
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `new'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `update_page'
    app/views/loja/adiciona_produto_lista_compras.rjs:1
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:905:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `custom'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/loja_controller.rb:38:in `adiciona_produto_lista_compras'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (230.6ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.7ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:25:55) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.7ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (5.1ms)
  [4;35;1mPedidoItem Load (0.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (33.7ms)
Rendered loja/_adiciona_pagamento (5.1ms)
  [4;36;1mPedidoPagamento Load (0.9ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (50.5ms)
Completed in 204ms (View: 163, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:25:59) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:26:00) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mPedidoItem Create (0.7ms)[0m   [0mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:26:00', 4, '2009-07-07 04:26:00', 1, NULL)[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.5ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.5ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.5ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.5ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (1.1ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:00', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (1.1ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (1.1ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:01', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:02', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (1.1ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:03', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.9ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.9ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (152.3ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:04', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.9ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.9ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.9ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:05', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.6ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.6ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.8ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:06', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.9ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
  [4;36;1mPedidoItem Update (0.9ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 04:26:07', "created_at" = '2009-07-07 04:26:00', "produto_id" = 4, "pedido_id" = 2, "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (4.6ms)
  [4;35;1mPedidoItem Load (0.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (5.5ms)
  [4;36;1mPedidoPagamento Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (49.0ms)
Completed in 7696ms (View: 132, DB: 282) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:26:55) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.9ms)
  [4;36;1mPedidoItem Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (23.9ms)
Rendered loja/_adiciona_pagamento (5.2ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (47.9ms)
Completed in 190ms (View: 148, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:26:58) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 336ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:26:59) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"bet", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.3ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (0.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'bet') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (7.2ms)
  [4;36;1mPedidoItem Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (32.4ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (34.1ms)
Completed in 211ms (View: 126, DB: 8) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:27:02) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.9ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:27:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.8ms)[0m   [0;1mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:27:03', 4, '2009-07-07 04:27:03', 1, NULL)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (10.9ms)
  [4;35;1mPedidoItem Load (1.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (2.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (173.9ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m


ActionView::TemplateError (nil can't be coerced into Fixnum) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/whiny_nil.rb:55:in `+'
    app/models/pedido.rb:70:in `valor_total'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `each'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    app/models/pedido.rb:69:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1002:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:767:in `replace_html'
    app/views/loja/adiciona_produto_lista_compras.rjs:13
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `new'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `update_page'
    app/views/loja/adiciona_produto_lista_compras.rjs:1
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:905:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `custom'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/loja_controller.rb:38:in `adiciona_produto_lista_compras'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (198.8ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:28:16) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (0.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = '') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (5.2ms)
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (227.6ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m


ActionView::TemplateError (nil can't be coerced into Fixnum) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/whiny_nil.rb:55:in `+'
    app/models/pedido.rb:70:in `valor_total'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `each'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    app/models/pedido.rb:69:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1002:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:767:in `replace_html'
    app/views/loja/adiciona_produto_lista_compras.rjs:13
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `new'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/helpers/prototype_helper.rb:1038:in `update_page'
    app/views/loja/adiciona_produto_lista_compras.rjs:1
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:905:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:135:in `custom'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:164:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:158:in `respond'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/loja_controller.rb:38:in `adiciona_produto_lista_compras'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (217.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.9ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:28:18) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.9ms)
  [4;35;1mPedidoItem Load (1.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (314.3ms)
Rendered loja/_adiciona_pagamento (5.1ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m


ActionView::TemplateError (nil can't be coerced into Fixnum) on line #28 of app/views/loja/_resumo_pagamento.html.erb:
25: 				<tr class='campo_realcado'>
26: 					<td>Total:</td>
27: 					<td>R$</td>
28: 					<td><%= number_to_currency(@pedido.valor_total, :unit => "", :delimiter => ".", :separator => ",") %></td>
29: 				</tr>
30: 				<tr class='campo_realcado'>
31: 					<td>Total c/ Serv:</td>

    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/whiny_nil.rb:55:in `+'
    app/models/pedido.rb:70:in `valor_total'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `each'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `send'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_proxy.rb:212:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:359:in `method_missing_without_paginate'
    /usr/lib/ruby/gems/1.8/gems/mislav-will_paginate-2.2.3/lib/will_paginate/finder.rb:164:in `method_missing'
    app/models/pedido.rb:69:in `valor_total'
    app/views/loja/_resumo_pagamento.html.erb:28
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:20:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:19:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable_partial.rb:45:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/partials.rb:152:in `render_partial'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:258:in `render'
    app/views/loja/index.html.erb:11
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/renderable.rb:39:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/template.rb:73:in `render_template'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:256:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:367:in `_render_with_layout'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_view/base.rb:254:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1174:in `render_for_file'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:51:in `render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1248:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (190.3ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.3ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:28:38) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.7ms)
  [4;36;1mPedidoItem Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
Rendered loja/_listagem_compras (32.9ms)
Rendered loja/_adiciona_pagamento (5.4ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (40.2ms)
Completed in 359ms (View: 322, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:28:42) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 82ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:28:43) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (77.4ms)[0m   [0;1mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:28:43', 4, '2009-07-07 04:28:43', 1, 0.78)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (12.5ms)
  [4;35;1mPedidoItem Load (2.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (4.2ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (53.5ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.1ms)
Completed in 562ms (View: 167, DB: 93) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:28:55) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"pil"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'pil%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 207ms (View: 148, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:28:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Pilha AAA Duracel", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.9ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Pilha AAA Duracel') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mPedidoItem Load (0.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '9' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Create (0.8ms)[0m   [0;1mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:28:56', 9, '2009-07-07 04:28:56', 1, 7.8)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (8.3ms)
  [4;35;1mPedidoItem Load (3.8ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (5.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
Rendered loja/_listagem_compras (71.5ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.8ms)
Completed in 446ms (View: 179, DB: 21) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing ProdutosController#index (for 127.0.0.1 at 2009-07-07 01:29:15) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mUnidadeVenda Load (2.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (12.3ms)[0m   [0;1mSELECT * FROM "produtos" ORDER BY descricao LIMIT 12 OFFSET 0[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "produtos" [0m
Rendering template within layouts/gourmet
Rendering produtos/index
Rendered produtos/_lista_produto_autocomplete (3.3ms)
Rendered produtos/_lista_produto_alphabox (32.1ms)
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendered produtos/_lista_produto (104.5ms)
Rendered produtos/_lista_produto_paginacao (2.3ms)
Completed in 266ms (View: 190, DB: 22) | 200 OK [http://localhost/produtos]


Processing ProdutosController#por_letra (for 127.0.0.1 at 2009-07-07 01:29:19) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "letra"=>"p"}
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (3.6ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'p%') ORDER BY descricao LIMIT 12 OFFSET 0[0m
Rendering produtos/por_letra
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
Rendered produtos/_lista_produto (188.5ms)
Rendered produtos/_lista_produto_paginacao (0.8ms)
Completed in 255ms (View: 211, DB: 10) | 200 OK [http://localhost/produtos/por_letra?letra=p]


Processing ProdutosController#show (for 127.0.0.1 at 2009-07-07 01:29:23) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"id"=>"8"}
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendering template within layouts/gourmet
Rendering produtos/show
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
Completed in 107ms (View: 49, DB: 7) | 200 OK [http://localhost/produtos/8]


Processing ProdutosController#edit (for 127.0.0.1 at 2009-07-07 01:29:25) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"id"=>"8"}
  [4;35;1mUnidadeVenda Load (2.9ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendering template within layouts/gourmet
Rendering produtos/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
Completed in 131ms (View: 68, DB: 9) | 200 OK [http://localhost/produtos/8/edit]


Processing ProdutosController#update (for 127.0.0.1 at 2009-07-07 01:29:32) [PUT]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"8", "produto"=>{"estoque_minimo"=>"2", "adiciona_taxa_servico"=>"0", "estoque_maximo"=>"5", "valor_venda"=>"10", "unidade_venda_id"=>"1", "referencia_fabricante"=>"", "fabricante"=>"", "codigo_barras"=>"332323", "id"=>"8", "descricao"=>"Pilha AA Duracel"}}
  [4;36;1mUnidadeVenda Load (2.4ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
WARNING: Can't mass-assign these protected attributes: id
  [4;36;1mProduto Exists (0.6ms)[0m   [0;1mSELECT "produtos".id FROM "produtos" WHERE ("produtos"."codigo_barras" = '332323' AND "produtos".id <> 8) LIMIT 1[0m
  [4;35;1mProduto Update (1.0ms)[0m   [0mUPDATE "produtos" SET "updated_at" = '2009-07-07 04:29:33', "valor_venda" = 10.0 WHERE "id" = 8[0m
Redirected to actionindex
Completed in 287ms (DB: 10) | 302 Found [http://localhost/produtos/8]


Processing ProdutosController#index (for 127.0.0.1 at 2009-07-07 01:29:33) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mUnidadeVenda Load (2.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (11.8ms)[0m   [0mSELECT * FROM "produtos" ORDER BY descricao LIMIT 12 OFFSET 0[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "produtos" [0m
Rendering template within layouts/gourmet
Rendering produtos/index
Rendered produtos/_lista_produto_autocomplete (4.1ms)
Rendered produtos/_lista_produto_alphabox (43.1ms)
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.4ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
Rendered produtos/_lista_produto (303.9ms)
Rendered produtos/_lista_produto_paginacao (2.7ms)
Completed in 490ms (View: 406, DB: 22) | 200 OK [http://localhost/produtos]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 01:29:38) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"pil"}}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.5ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'pil%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 82ms (View: 19, DB: 8) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:29:40) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Pilha AA Duracel", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Pilha AA Duracel') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '8' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mPedidoItem Create (1.0ms)[0m   [0mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 04:29:40', 8, '2009-07-07 04:29:40', 1, 10.0)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (5.1ms)
  [4;36;1mPedidoItem Load (3.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (2.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (70.2ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.8ms)
Completed in 318ms (View: 154, DB: 20) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:34:42) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.9ms)
  [4;36;1mPedidoItem Load (2.3ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (2.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (333.6ms)
Rendered loja/_adiciona_pagamento (4.9ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (49.3ms)
Completed in 501ms (View: 463, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:48:25) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.4ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.5ms)
  [4;35;1mPedidoItem Load (2.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.3ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.4ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (148.2ms)
Rendered loja/_adiciona_pagamento (2.8ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (34.7ms)
Completed in 287ms (View: 248, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:48:33) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m


ActiveRecord::RecordNotFound (Couldn't find PedidoItem without an ID):
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:1509:in `find_from_ids'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:590:in `find'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:60:in `find'
    /app/controllers/loja_controller.rb:45:in `editar_produto_lista_compras'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (111.1ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.5ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:48:36) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m


ActiveRecord::RecordNotFound (Couldn't find PedidoItem without an ID):
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:1509:in `find_from_ids'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/base.rb:590:in `find'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/associations/association_collection.rb:60:in `find'
    /app/controllers/loja_controller.rb:45:in `editar_produto_lista_compras'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:617:in `call_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.2.2/lib/active_record/query_cache.rb:8:in `cache'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `send'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:524:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/session_management.rb:134:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/base.rb:392:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:103:in `handle_dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:74:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/webrick_server.rb:60:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/servers/webrick.rb:66
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb:153:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_trace (92.1ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/_request_and_response (2.6ms)
Rendering /usr/lib/ruby/gems/1.8/gems/actionpack-2.2.2/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:50:58) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (2.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (3.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (2.4ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (28.1ms)
  [4;36;1mPedidoItem Load (2.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.1ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.1ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (61.9ms)
Completed in 309ms (View: 141, DB: 21) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:50:58) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.0ms)
  [4;35;1mPedidoItem Load (2.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.1ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (140.7ms)
Rendered loja/_adiciona_pagamento (4.8ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.4ms)
Completed in 293ms (View: 261, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:51:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.9ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.7ms)
  [4;36;1mPedidoItem Load (1.9ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (45.2ms)
Completed in 312ms (View: 90, DB: 15) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:51:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.3ms)
  [4;35;1mPedidoItem Load (1.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (44.4ms)
Completed in 182ms (View: 86, DB: 14) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:51:08) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"19"}
  [4;35;1mPedido Load (1.8ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (8.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (60.6ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.6ms)
Completed in 376ms (View: 132, DB: 22) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:51:12) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.2ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.6ms)
  [4;36;1mPedidoItem Load (2.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.0ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (151.4ms)
Rendered loja/_adiciona_pagamento (5.0ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (38.8ms)
Completed in 299ms (View: 261, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:53:31) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.6ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (7.3ms)
  [4;35;1mPedidoItem Load (2.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.3ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (162.8ms)
Rendered loja/_adiciona_pagamento (4.8ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (41.5ms)
Completed in 329ms (View: 290, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:53:35) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.4ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (44.8ms)
Completed in 313ms (View: 89, DB: 14) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:53:37) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"12"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;36;1mPedidoItem Load (2.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (52.8ms)
  [4;36;1mPedidoPagamento Load (0.6ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.0ms)
Completed in 235ms (View: 125, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:53:40) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.4ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.9ms)
  [4;36;1mPedidoItem Load (2.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (141.2ms)
Rendered loja/_adiciona_pagamento (3.0ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (37.7ms)
Completed in 477ms (View: 399, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:54:51) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.6ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (6.0ms)
  [4;35;1mPedidoItem Load (2.6ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (160.5ms)
Rendered loja/_adiciona_pagamento (4.0ms)
  [4;36;1mPedidoPagamento Load (0.8ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (48.0ms)
Completed in 345ms (View: 301, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:54:54) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.2ms)
  [4;36;1mPedidoItem Load (1.9ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (60.1ms)
Completed in 197ms (View: 100, DB: 15) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:54:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"12"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.2ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (73.8ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (31.0ms)
Completed in 396ms (View: 151, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:55:04) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.9ms)
  [4;36;1mPedidoItem Load (2.4ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.8ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (166.6ms)
Rendered loja/_adiciona_pagamento (4.0ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (42.4ms)
Completed in 319ms (View: 277, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:56:57) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.3ms)
  [4;35;1mPedidoItem Load (2.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.4ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (172.5ms)
Rendered loja/_adiciona_pagamento (5.0ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (51.6ms)
Completed in 525ms (View: 485, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:57:01) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.4ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.0ms)
  [4;36;1mPedidoItem Load (1.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (43.3ms)
Completed in 182ms (View: 84, DB: 16) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:57:03) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"12"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (52.6ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.0ms)
Completed in 235ms (View: 124, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:57:06) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.4ms)
  [4;36;1mPedidoItem Load (1.9ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (131.8ms)
Rendered loja/_adiciona_pagamento (5.2ms)
  [4;35;1mPedidoPagamento Load (0.7ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (40.9ms)
Completed in 273ms (View: 239, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:58:20) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.5ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (0.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = '') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.3ms)
  [4;35;1mPedidoItem Load (1.8ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (2.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (94.6ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (32.9ms)
Completed in 256ms (View: 173, DB: 15) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 01:58:21) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.1ms)
  [4;35;1mPedidoItem Load (2.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (2.3ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (295.4ms)
Rendered loja/_adiciona_pagamento (5.2ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (38.4ms)
Completed in 430ms (View: 399, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:58:26) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.4ms)
  [4;36;1mPedidoItem Load (2.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.9ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (44.2ms)
Completed in 184ms (View: 87, DB: 16) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 01:58:28) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"12"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (52.0ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (35.2ms)
Completed in 238ms (View: 129, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:00:51) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.7ms)
  [4;36;1mPedidoItem Load (2.3ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.2ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.4ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (2.2ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (158.5ms)
Rendered loja/_adiciona_pagamento (4.3ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (43.8ms)
Completed in 320ms (View: 277, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:00:55) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.9ms)
  [4;35;1mPedidoItem Load (1.8ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (180.9ms)
Completed in 320ms (View: 226, DB: 14) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:00:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"12"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:00:57', "valor_total" = 9.36, "quantidade" = 12 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (6.3ms)
  [4;35;1mPedidoItem Load (3.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (3.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (69.4ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.6ms)
Completed in 724ms (View: 162, DB: 22) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:01:13) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.5ms)
  [4;35;1mPedidoItem Load (1.8ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (43.5ms)
Completed in 182ms (View: 88, DB: 14) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:01:15) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"9"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '9') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '9' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
Rendered loja/_selecao_produto (18.9ms)
  [4;36;1mPedidoItem Load (2.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (46.6ms)
Completed in 325ms (View: 91, DB: 15) | 200 OK [http://localhost/loja/editar_produto_lista_compras/9]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:01:18) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Pilha AAA Duracel", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"16"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Pilha AAA Duracel') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '9' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '9' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mPedidoItem Update (39.1ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:01:18', "valor_total" = 124.8, "quantidade" = 16 WHERE "id" = 2[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (6.1ms)
  [4;36;1mPedidoItem Load (3.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (2.9ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (3.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;35;1mProduto Load (2.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (81.3ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.0ms)
Completed in 727ms (View: 168, DB: 62) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:15:53) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.3ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.7ms)
  [4;36;1mPedidoItem Load (3.2ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.3ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (2.3ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (169.6ms)
Rendered loja/_adiciona_pagamento (160.2ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (35.4ms)
Completed in 467ms (View: 428, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#remover_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:15:58) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"8"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (2.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '8') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.5ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '8' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mPedidoItem Delete all (573.5ms)[0m   [0;1mDELETE FROM "pedido_items" WHERE ("id" IN (3)) [0m
Rendering loja/adiciona_produto_lista_compras.rjs
Rendered loja/_selecao_produto (5.7ms)
  [4;35;1mPedidoItem Load (2.8ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 9) [0m
Rendered loja/_listagem_compras (52.6ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.2ms)
Completed in 844ms (View: 144, DB: 589) | 200 OK [http://localhost/loja/remover_produto_lista_compras/8]


Processing LojaController#remover_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:16:04) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"9"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (135.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '9') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '9' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mPedidoItem Delete all (30.0ms)[0m   [0mDELETE FROM "pedido_items" WHERE ("id" IN (2)) [0m
Rendering loja/adiciona_produto_lista_compras.rjs
Rendered loja/_selecao_produto (3.7ms)
  [4;36;1mPedidoItem Load (1.3ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (41.4ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (35.2ms)
Completed in 395ms (View: 131, DB: 176) | 200 OK [http://localhost/loja/remover_produto_lista_compras/9]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:16:23) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.8ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (21.5ms)
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (23.1ms)
Completed in 181ms (View: 71, DB: 12) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:16:25) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"14"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.4ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:16:25', "valor_total" = 10.92, "quantidade" = 14 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;36;1mPedidoItem Load (2.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (3.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (44.2ms)
  [4;36;1mPedidoPagamento Load (0.9ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (51.6ms)
Completed in 312ms (View: 159, DB: 18) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:16:31) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 80ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:16:32) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.8ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (30.2ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.3ms)
Completed in 204ms (View: 101, DB: 13) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:16:36) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:16:37) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.2ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (31.7ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.7ms)
Completed in 350ms (View: 106, DB: 13) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:17:52) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.2ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.5ms)
  [4;36;1mPedidoItem Load (1.4ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.3ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (128.7ms)
Rendered loja/_adiciona_pagamento (4.7ms)
  [4;35;1mPedidoPagamento Load (0.9ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (45.3ms)
Completed in 295ms (View: 256, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:17:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:17:58) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:17:58', "valor_total" = 0.78, "quantidade" = 1 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.3ms)
  [4;36;1mPedidoItem Load (1.7ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (24.2ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.5ms)
Completed in 563ms (View: 106, DB: 15) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:20:35) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (5.0ms)
  [4;36;1mPedidoItem Load (1.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (121.2ms)
Rendered loja/_adiciona_pagamento (4.9ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (44.6ms)
Completed in 290ms (View: 248, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:20:38) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (2.1ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 18, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:20:40) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.1ms)
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (34.3ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.1ms)
Completed in 208ms (View: 105, DB: 12) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:22:07) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.6ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (4.5ms)
  [4;36;1mPedidoItem Load (1.6ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (2.4ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (137.3ms)
Rendered loja/_adiciona_pagamento (5.0ms)
  [4;35;1mPedidoPagamento Load (0.8ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (40.0ms)
Completed in 295ms (View: 254, DB: 5) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:22:12) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 76ms (View: 18, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:22:13) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.8ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (21.0ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.6ms)
Completed in 212ms (View: 92, DB: 12) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:22:18) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;36;1mPedido Load (1.6ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (3.0ms)
  [4;35;1mPedidoItem Load (1.7ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (104.8ms)
Rendered loja/_adiciona_pagamento (4.7ms)
  [4;36;1mPedidoPagamento Load (0.7ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (32.3ms)
Completed in 242ms (View: 204, DB: 6) | 200 OK [http://localhost/loja]


Processing LojaController#index (for 127.0.0.1 at 2009-07-07 02:27:22) [GET]
  Session ID: 02438ce30124044f2a863ea6828cb323
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
Rendering template within layouts/loja
Rendering loja/index
Rendered loja/_selecao_produto (2.8ms)
  [4;36;1mPedidoItem Load (1.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mUnidadeVenda Load (3.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (287.2ms)
Rendered loja/_adiciona_pagamento (3.2ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (33.7ms)
Completed in 418ms (View: 384, DB: 4) | 200 OK [http://localhost/loja]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:26) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:27) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.7ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mPedidoItem Update (0.8ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:27', "valor_total" = 1.56, "quantidade" = 2 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (6.1ms)
  [4;36;1mPedidoItem Load (2.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (3.9ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (42.7ms)
  [4;36;1mPedidoPagamento Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (30.9ms)
Completed in 457ms (View: 142, DB: 18) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:30) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"be"}}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'be%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 215ms (View: 20, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:31) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.7ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:31', "valor_total" = 2.34, "quantidade" = 3 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (5.8ms)
  [4;35;1mPedidoItem Load (2.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (2.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (28.3ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.4ms)
Completed in 355ms (View: 117, DB: 16) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:34) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bety"}}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (0.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bety%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 62ms (View: 4, DB: 6) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:35) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 76ms (View: 18, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:36) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mPedidoItem Load (1.1ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:36', "valor_total" = 3.12, "quantidade" = 4 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (6.6ms)
  [4;35;1mPedidoItem Load (2.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (3.9ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (44.9ms)
  [4;35;1mPedidoPagamento Load (0.6ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (28.5ms)
Completed in 693ms (View: 145, DB: 17) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#editar_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:40) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"authenticity_token"=>"c136d850b0557a48c84e7b6de0977f4fe58f87b7", "id"=>"4"}
  [4;36;1mPedido Load (1.0ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.8ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.6ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = '4') LIMIT 1[0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
Rendering loja/editar_produto_lista_compras
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_selecao_produto (18.1ms)
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (20.0ms)
Completed in 155ms (View: 60, DB: 11) | 200 OK [http://localhost/loja/editar_produto_lista_compras/4]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:42) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"true", "quantidade_item"=>"19"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.5ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.7ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mPedidoItem Load (1.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (1.0ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mPedidoItem Update (0.7ms)[0m   [0;1mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:42', "valor_total" = 14.82, "quantidade" = 19 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.8ms)
  [4;35;1mPedidoItem Load (1.2ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (26.1ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (30.2ms)
Completed in 387ms (View: 237, DB: 14) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:44) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"bet"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'bet%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 79ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:45) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Beterraba", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.1ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.7ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Beterraba') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (0.9ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 2) [0m
  [4;35;1mPedidoItem Load (1.1ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '4' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:45', "valor_total" = 15.6, "quantidade" = 20 WHERE "id" = 1[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (5.8ms)
  [4;36;1mPedidoItem Load (2.0ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (4.2ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
Rendered loja/_listagem_compras (42.9ms)
  [4;36;1mPedidoPagamento Load (0.9ms)[0m   [0;1mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (52.0ms)
Completed in 724ms (View: 163, DB: 18) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:51) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"pil"}}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (2.4ms)[0m   [0mSELECT * FROM "produtos" WHERE (descricao like 'pil%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 77ms (View: 19, DB: 7) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:52) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Pilha AA Duracel", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.6ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (1.5ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Pilha AA Duracel') LIMIT 1[0m
  [4;35;1mUnidadeVenda Load (0.9ms)[0m   [0mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;36;1mPedidoItem Load (0.5ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '8' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;35;1mPedidoItem Create (0.6ms)[0m   [0mINSERT INTO "pedido_items" ("pedido_id", "created_at", "produto_id", "updated_at", "quantidade", "valor_total") VALUES(2, '2009-07-07 05:27:52', 8, '2009-07-07 05:27:52', 1, 10.0)[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (3.5ms)
  [4;36;1mPedidoItem Load (1.8ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.8ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.7ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (39.7ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (29.7ms)
Completed in 273ms (View: 114, DB: 15) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]


Processing LojaController#autocomplete_novo_item (for 127.0.0.1 at 2009-07-07 02:27:55) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"compras"=>{"novo_item"=>"pil"}}
  [4;36;1mPedido Load (1.1ms)[0m   [0;1mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;35;1mUnidadeVenda Load (1.5ms)[0m   [0mSELECT * FROM "unidade_vendas" [0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE (descricao like 'pil%') ORDER BY descricao[0m
Rendering loja/autocomplete_novo_item
Completed in 78ms (View: 19, DB: 8) | 200 OK [http://localhost/loja/autocomplete_novo_item]


Processing LojaController#adiciona_produto_lista_compras (for 127.0.0.1 at 2009-07-07 02:27:56) [POST]
  Session ID: 02438ce30124044f2a863ea6828cb323
  Parameters: {"descricao_item"=>"Pilha AA Duracel", "authenticity_token"=>"18694f0f8b9836a93f2b1d22e2d09ca925c87b3c", "modo_edicao"=>"false", "quantidade_item"=>"1"}
  [4;35;1mPedido Load (1.0ms)[0m   [0mSELECT * FROM "pedidos" WHERE ("pedidos"."id" = 2) [0m
  [4;36;1mUnidadeVenda Load (1.6ms)[0m   [0;1mSELECT * FROM "unidade_vendas" [0m
  [4;35;1mProduto Load (1.6ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."descricao" = 'Pilha AA Duracel') LIMIT 1[0m
  [4;36;1mUnidadeVenda Load (1.0ms)[0m   [0;1mSELECT * FROM "unidade_vendas" WHERE ("unidade_vendas"."id" = 1) [0m
  [4;35;1mPedidoItem Load (1.0ms)[0m   [0mSELECT * FROM "pedido_items" WHERE ("pedido_items"."produto_id" = '8' AND "pedido_items"."pedido_id" = '2') LIMIT 1[0m
  [4;36;1mProduto Load (2.4ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
  [4;35;1mPedidoItem Update (0.7ms)[0m   [0mUPDATE "pedido_items" SET "updated_at" = '2009-07-07 05:27:56', "valor_total" = 20.0, "quantidade" = 2 WHERE "id" = 2[0m
Rendering loja/adiciona_produto_lista_compras
Rendered loja/_selecao_produto (5.2ms)
  [4;36;1mPedidoItem Load (1.4ms)[0m   [0;1mSELECT * FROM "pedido_items" WHERE ("pedido_items".pedido_id = 2) [0m
  [4;35;1mProduto Load (1.5ms)[0m   [0mSELECT * FROM "produtos" WHERE ("produtos"."id" = 4) [0m
  [4;36;1mProduto Load (1.8ms)[0m   [0;1mSELECT * FROM "produtos" WHERE ("produtos"."id" = 8) [0m
Rendered loja/_listagem_compras (34.1ms)
  [4;35;1mPedidoPagamento Load (0.5ms)[0m   [0mSELECT * FROM "pedido_pagamentos" WHERE ("pedido_pagamentos".pedido_id = 2) [0m
Rendered loja/_resumo_pagamento (158.9ms)
Completed in 1058ms (View: 250, DB: 18) | 200 OK [http://localhost/loja/adiciona_produto_lista_compras]
